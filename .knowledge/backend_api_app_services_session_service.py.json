{"is_source_file": true, "format": "Python", "description": "This file defines a thread-safe in-memory session management service for tracking execution sessions, progress, logs, and statistics. It includes class definitions for session data models, and a service class that manages session lifecycle, simulation, and retrieval of session-related data.", "external_files": [], "external_methods": ["threading.RLock", "time.time", "uuid.uuid4"], "published": ["session_service"], "classes": [{"name": "SessionLog", "description": "Represents a single log entry in a session."}, {"name": "SessionProgress", "description": "Represents progress details for a session."}, {"name": "SessionStats", "description": "Represents aggregated statistics for a session."}, {"name": "Session", "description": "Represents an execution session, including logs, progress, statistics, and metadata."}, {"name": "InMemorySessionService", "description": "A thread-safe in-memory service for managing session lifecycle, simulating progress, logs, and statistics."}], "methods": [{"name": "Session create_session(self, payload: Dict)", "description": "Creates a new session and starts a background thread to simulate execution.", "scope": "InMemorySessionService", "scopeKind": "class"}, {"name": "Optional[Session] get_session(self, session_id: str)", "description": "Retrieves a session object by its ID.", "scope": "InMemorySessionService", "scopeKind": "class"}, {"name": "Optional[SessionProgress] get_progress(self, session_id: str)", "description": "Retrieves the current progress of a session.", "scope": "InMemorySessionService", "scopeKind": "class"}, {"name": "Optional[SessionStats] get_stats(self, session_id: str)", "description": "Retrieves the aggregated statistics of a session.", "scope": "InMemorySessionService", "scopeKind": "class"}, {"name": "Optional[List[SessionLog]] get_logs(self, session_id: str, level: Optional[str] = None, limit: Optional[int] = None)", "description": "Retrieves logs for a session, with optional filtering by level and limit.", "scope": "InMemorySessionService", "scopeKind": "class"}, {"name": "None _simulate_run(self, session_id: str)", "description": "Simulates a session run, updating progress and logs, and finalizing with stats.", "scope": "InMemorySessionService", "scopeKind": "class"}, {"name": "None __init__(self)", "scope": "InMemorySessionService", "scopeKind": "class", "description": "unavailable"}], "calls": ["uuid.uuid4", "time.time", "threading.RLock", "self._lock.acquire", "self._lock.release", "self._sessions.get", "SessionLog", "SessionProgress", "SessionStats"], "search-terms": ["InMemorySessionService", "session lifecycle", "session progress", "session logs", "session stats", "simulate run", "background thread", "thread-safe session management"], "state": 2, "file_id": 7, "knowledge_revision": 15, "git_revision": "", "ctags": [{"_type": "tag", "name": "InMemorySessionService", "path": "/home/kavia/workspace/code-generation/execution-session-management-api-691-700/backend_api/app/services/session_service.py", "pattern": "/^class InMemorySessionService:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "Session", "path": "/home/kavia/workspace/code-generation/execution-session-management-api-691-700/backend_api/app/services/session_service.py", "pattern": "/^class Session:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "SessionLog", "path": "/home/kavia/workspace/code-generation/execution-session-management-api-691-700/backend_api/app/services/session_service.py", "pattern": "/^class SessionLog:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "SessionProgress", "path": "/home/kavia/workspace/code-generation/execution-session-management-api-691-700/backend_api/app/services/session_service.py", "pattern": "/^class SessionProgress:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "SessionStats", "path": "/home/kavia/workspace/code-generation/execution-session-management-api-691-700/backend_api/app/services/session_service.py", "pattern": "/^class SessionStats:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "__init__", "path": "/home/kavia/workspace/code-generation/execution-session-management-api-691-700/backend_api/app/services/session_service.py", "pattern": "/^    def __init__(self) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "member", "signature": "(self)", "scope": "InMemorySessionService", "scopeKind": "class"}, {"_type": "tag", "name": "_simulate_run", "path": "/home/kavia/workspace/code-generation/execution-session-management-api-691-700/backend_api/app/services/session_service.py", "pattern": "/^    def _simulate_run(self, session_id: str) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "member", "signature": "(self, session_id: str)", "scope": "InMemorySessionService", "scopeKind": "class"}, {"_type": "tag", "name": "artifacts", "path": "/home/kavia/workspace/code-generation/execution-session-management-api-691-700/backend_api/app/services/session_service.py", "pattern": "/^    artifacts: Dict[str, str] = field(default_factory=dict)$/", "language": "Python", "typeref": "typename:Dict[str, str]", "kind": "variable", "scope": "SessionStats", "scopeKind": "class"}, {"_type": "tag", "name": "create_session", "path": "/home/kavia/workspace/code-generation/execution-session-management-api-691-700/backend_api/app/services/session_service.py", "pattern": "/^    def create_session(self, payload: Dict) -> Session:$/", "language": "Python", "typeref": "typename:Session", "kind": "member", "signature": "(self, payload: Dict)", "scope": "InMemorySessionService", "scopeKind": "class"}, {"_type": "tag", "name": "get_logs", "path": "/home/kavia/workspace/code-generation/execution-session-management-api-691-700/backend_api/app/services/session_service.py", "pattern": "/^    def get_logs(self, session_id: str, level: Optional[str] = None, limit: Optional[int] = None/", "language": "Python", "typeref": "typename:Optional[List[SessionLog]]", "kind": "member", "signature": "(self, session_id: str, level: Optional[str] = None, limit: Optional[int] = None)", "scope": "InMemorySessionService", "scopeKind": "class"}, {"_type": "tag", "name": "get_progress", "path": "/home/kavia/workspace/code-generation/execution-session-management-api-691-700/backend_api/app/services/session_service.py", "pattern": "/^    def get_progress(self, session_id: str) -> Optional[SessionProgress]:$/", "language": "Python", "typeref": "typename:Optional[SessionProgress]", "kind": "member", "signature": "(self, session_id: str)", "scope": "InMemorySessionService", "scopeKind": "class"}, {"_type": "tag", "name": "get_session", "path": "/home/kavia/workspace/code-generation/execution-session-management-api-691-700/backend_api/app/services/session_service.py", "pattern": "/^    def get_session(self, session_id: str) -> Optional[Session]:$/", "language": "Python", "typeref": "typename:Optional[Session]", "kind": "member", "signature": "(self, session_id: str)", "scope": "InMemorySessionService", "scopeKind": "class"}, {"_type": "tag", "name": "get_stats", "path": "/home/kavia/workspace/code-generation/execution-session-management-api-691-700/backend_api/app/services/session_service.py", "pattern": "/^    def get_stats(self, session_id: str) -> Optional[SessionStats]:$/", "language": "Python", "typeref": "typename:Optional[SessionStats]", "kind": "member", "signature": "(self, session_id: str)", "scope": "InMemorySessionService", "scopeKind": "class"}, {"_type": "tag", "name": "logs", "path": "/home/kavia/workspace/code-generation/execution-session-management-api-691-700/backend_api/app/services/session_service.py", "pattern": "/^    logs: List[SessionLog] = field(default_factory=list)$/", "language": "Python", "typeref": "typename:List[SessionLog]", "kind": "variable", "scope": "Session", "scopeKind": "class"}, {"_type": "tag", "name": "progress", "path": "/home/kavia/workspace/code-generation/execution-session-management-api-691-700/backend_api/app/services/session_service.py", "pattern": "/^    progress: SessionProgress = field(default_factory=lambda: SessionProgress(total_steps=10, cu/", "language": "Python", "typeref": "typename:SessionProgress", "kind": "variable", "scope": "Session", "scopeKind": "class"}, {"_type": "tag", "name": "session_service", "path": "/home/kavia/workspace/code-generation/execution-session-management-api-691-700/backend_api/app/services/session_service.py", "pattern": "/^session_service = InMemorySessionService()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "stats", "path": "/home/kavia/workspace/code-generation/execution-session-management-api-691-700/backend_api/app/services/session_service.py", "pattern": "/^    stats: Optional[SessionStats] = None$/", "language": "Python", "typeref": "typename:Optional[SessionStats]", "kind": "variable", "scope": "Session", "scopeKind": "class"}], "hash": "7e14cbe4fca746de5fb533e0cf8aaa73", "format-version": 4, "code-base-name": "backend_api", "filename": "backend_api/app/services/session_service.py", "fields": [{"name": "Dict[str, str] artifacts", "scope": "SessionStats", "scopeKind": "class", "description": "unavailable"}, {"name": "List[SessionLog] logs", "scope": "Session", "scopeKind": "class", "description": "unavailable"}, {"name": "SessionProgress progress", "scope": "Session", "scopeKind": "class", "description": "unavailable"}, {"name": "session_service = InMemorySessionService()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Optional[SessionStats] stats", "scope": "Session", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"15": ""}]}